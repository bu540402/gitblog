title: coding技巧集锦
date: 2016-04-25 12:50:05
tags:
---
## 调用堆栈
调用堆栈最经常被用于存放子程序的返回地址。在调用任何子程序时，主程序都必须暂存子程序运行完毕后应该返回到的地址。因此，如果被调用的子程序还要调用其他的子程序，其自身的返回地址就必须存入调用堆栈，在其自身运行完毕后再行取回。在递归程序中，每一层次递归都必须在调用堆栈上增加一条地址，因此如果程序出现无限递归（或仅仅是过多的递归层次），调用堆栈就会产生堆栈溢出。
调用堆栈的主要功能是存放返回地址。除此之外，调用堆栈还用于存放：
本地变量：子程序的变量可以存入调用堆栈，这样可以达到不同子程序间变量分离开的作用。
参数传递：如果寄存器不足以容纳子程序的参数，可以在调用堆栈上存入参数。
环境传递：有些语言（如Pascal与Ada）支持“多层子程序”，即子程序中可以利用主程序的本地变量。这些变量可以通过调用堆栈传入子程序。
## 堆与栈
### C/C++的堆栈
一个由C/C++编译的程序占用的内存分为以下几个部分：
1. 栈区（stack）— 由编译器自动分配释放 ，存放函数的参数名，局部变量的名等。其操作方式类似于数据结构中的栈。
1. 堆区（heap）— 由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表。
3. 静态区（static）—全局变量和局部静态变量的存储是放在一块的。程序结束后由系统释放。
4. 文字常量区—常量字符串就是放在这里的，程序结束后由系统释放 。
5. 程序代码区— 存放函数体的二进制代码。

### java中的堆栈
